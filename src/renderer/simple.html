<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Simple Clipboard Viewer</title>
  <style>
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      background-color: #f5f5f5;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
      padding: 20px;
      box-sizing: border-box;
    }
    
    .container {
      background-color: white;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      padding: 20px;
      width: 100%;
      max-width: 500px;
    }
    
    h1 {
      margin-top: 0;
      font-size: 24px;
      color: #333;
    }
    
    .content {
      background-color: #f9f9f9;
      border: 1px solid #eee;
      border-radius: 4px;
      padding: 15px;
      margin: 15px 0;
      min-height: 100px;
      white-space: pre-wrap;
      word-break: break-word;
    }
    
    button {
      background-color: #4285f4;
      color: white;
      border: none;
      border-radius: 4px;
      padding: 10px 15px;
      font-size: 14px;
      cursor: pointer;
    }
    
    button:hover {
      background-color: #3367d6;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Clipboard Viewer</h1>
    <div id="clipboard-content" class="content">Press the button or Cmd+Shift+T to view clipboard content</div>
    <button id="read-button">Read Clipboard</button>
  </div>

  <script>
    // Log when the script runs
    console.log('Simple HTML script running');
    
    // Function to update content
    function updateContent(text) {
      document.getElementById('clipboard-content').textContent = text || '(Empty clipboard)';
    }
    
    // Button click handler
    document.getElementById('read-button').addEventListener('click', () => {
      console.log('Button clicked');
      if (window.electron && window.electron.clipboard) {
        try {
          const clipboardText = window.electron.clipboard.readText();
          console.log('Read from clipboard:', clipboardText);
          updateContent(clipboardText);
        } catch (error) {
          console.error('Error reading clipboard:', error);
          updateContent('Error: ' + error.message);
        }
      } else {
        console.error('Electron clipboard API not available');
        updateContent('Error: Clipboard API not available');
      }
    });
    
    // Listen for clipboard content from main process
    if (window.clipboardAPI) {
      window.clipboardAPI.onClipboardContent((content) => {
        console.log('Received clipboard content from main:', content);
        updateContent(content);
      });
    } else {
      console.error('clipboardAPI not available');
    }
    
    // Log available APIs
    console.log('Available APIs:', {
      electron: !!window.electron,
      clipboard: !!(window.electron && window.electron.clipboard),
      clipboardAPI: !!window.clipboardAPI
    });
  </script>
</body>
</html> 