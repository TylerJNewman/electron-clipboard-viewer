<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Clipboard Viewer</title>
  <style>
    body { font-family: sans-serif; padding: 20px; }
    #content { 
      padding: 15px; 
      background: #f0f0f0; 
      border: 1px solid #ccc;
      margin: 15px 0;
      min-height: 50px;
    }
    button {
      background: #0078d7;
      color: white;
      border: none;
      padding: 8px 16px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h1>Clipboard Viewer</h1>
  <div id="content">Press the button to view clipboard</div>
  <button id="read-btn">Read Clipboard</button>
  
  <script>
    console.log('Page loaded');
    
    // Check if API is available
    console.log('electronAPI available:', !!window.electronAPI);
    
    // Set up button click handler
    document.getElementById('read-btn').addEventListener('click', () => {
      console.log('Button clicked');
      
      if (window.electronAPI) {
        try {
          const text = window.electronAPI.getClipboardText();
          console.log('Got clipboard text:', text);
          document.getElementById('content').textContent = text || '(empty clipboard)';
        } catch (err) {
          console.error('Error reading clipboard:', err);
          document.getElementById('content').textContent = 'Error: ' + err.message;
        }
      } else {
        document.getElementById('content').textContent = 'Error: electronAPI not available';
      }
    });
    
    // Listen for clipboard updates from main process
    if (window.electronAPI) {
      window.electronAPI.onClipboardUpdate((text) => {
        console.log('Update received:', text);
        document.getElementById('content').textContent = text || '(empty clipboard)';
      });
    }
  </script>
</body>
</html> 