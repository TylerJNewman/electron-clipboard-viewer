<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Minimal Clipboard Viewer</title>
</head>
<body style="background-color: white; padding: 20px; font-family: system-ui;">
  <h1>Minimal Clipboard Viewer</h1>
  <div id="clipboard-content" style="padding: 10px; background-color: #f5f5f5; border: 1px solid #ddd; margin: 10px 0;">
    Press the button or Cmd+Shift+T
  </div>
  <button id="read-button" style="padding: 8px 16px; background-color: blue; color: white; border: none; border-radius: 4px;">
    Read Clipboard
  </button>

  <script>
    console.log('Minimal HTML loaded');
    
    // Log available APIs
    console.log('Available APIs:', {
      electron: !!window.electron,
      clipboard: !!(window.electron && window.electron.clipboard),
      clipboardAPI: !!window.clipboardAPI
    });
    
    // Button click handler
    document.getElementById('read-button').addEventListener('click', () => {
      console.log('Button clicked');
      try {
        if (window.electron && window.electron.clipboard) {
          const text = window.electron.clipboard.readText();
          document.getElementById('clipboard-content').textContent = text || '(Empty clipboard)';
        } else {
          console.error('Clipboard API not available');
          document.getElementById('clipboard-content').textContent = 'Clipboard API not available';
        }
      } catch (error) {
        console.error('Error reading clipboard:', error);
        document.getElementById('clipboard-content').textContent = 'Error: ' + error.message;
      }
    });
    
    // Listen for clipboard content from main process
    if (window.clipboardAPI) {
      console.log('Setting up clipboardAPI listener');
      window.clipboardAPI.onClipboardContent((content) => {
        console.log('Received clipboard content from main:', content);
        document.getElementById('clipboard-content').textContent = content || '(Empty clipboard)';
      });
    } else {
      console.error('clipboardAPI not available');
    }
  </script>
</body>
</html> 